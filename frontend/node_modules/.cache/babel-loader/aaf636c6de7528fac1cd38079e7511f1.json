{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\user\\\\Desktop\\\\m\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\user\\\\Desktop\\\\m\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\Desktop\\\\m\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{BrowserRouter,Link,Route,Routes}from'react-router-dom';import{toast}from'react-toastify';import KommunicateChat from'./chat';import'react-toastify/dist/ReactToastify.css';import HomeScreen from'./screens/HomeScreen';import HomeScreen2 from'./screens/HomeScreen';import ProductScreen from'./screens/ProductScreen';import ToastContainer from'react-bootstrap/ToastContainer';import Navbar from'react-bootstrap/Navbar';import Badge from'react-bootstrap/Badge';import Nav from'react-bootstrap/Nav';import NavDropdown from'react-bootstrap/NavDropdown';import Container from'react-bootstrap/Container';import{LinkContainer}from'react-router-bootstrap';import{useContext,useEffect,useState}from'react';import{Store}from'./Store';import CartScreen from'./screens/CartScreen';import SigninScreen from'./screens/SigninScreen';import ShippingAddressScreen from'./screens/ShippingAddressScreen';import SignupScreen from'./screens/SignupScreen';import ForgotPasswordScreen from'./screens/ForgotPasswordScreen';import ResetPasswordScreen from'./screens/ResetPasswordScreen';import PaymentMethodScreen from'./screens/PaymentMethodScreen';import PlaceOrderScreen from'./screens/PlaceOrderScreen';import OrderScreen from'./screens/OrderScreen';import OrderHistoryScreen from'./screens/OrderHistoryScreen';import ProfileScreen from'./screens/ProfileScreen';import Button from'react-bootstrap/Button';import{getError}from'./utils';import axios from'axios';import SearchBox from'./components/SearchBox';import SearchScreen from'./screens/SearchScreen';import ProtectedRoute from'./components/ProtectedRoute';import DashboardScreen from'./screens/DashboardScreen';import AdminRoute from'./components/AdminRoute';import ProductListScreen from'./screens/ProductListScreen';import ProductEditScreen from'./screens/ProductEditScreen';import OrderListScreen from'./screens/OrderListScreen';import UserListScreen from'./screens/UserListScreen';import UserEditScreen from'./screens/UserEditScreen';import MapScreen from'./screens/MapScreen';import Footer from'./components/Footer';import\"bootstrap/dist/css/bootstrap.min.css\";import{library}from\"@fortawesome/fontawesome-svg-core\";import{fas}from\"@fortawesome/free-solid-svg-icons\";import{fab}from\"@fortawesome/free-brands-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";library.add(fab,fas);function App(){var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var fullBox=state.fullBox,cart=state.cart,userInfo=state.userInfo;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showA=_useState2[0],setShowA=_useState2[1];var toggleShowA=function toggleShowA(){return setShowA(!showA);};var signoutHandler=function signoutHandler(){ctxDispatch({type:'USER_SIGNOUT'});localStorage.removeItem('userInfo');localStorage.removeItem('shippingAddress');localStorage.removeItem('paymentMethod');window.location.href='/signin';};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),sidebarIsOpen=_useState4[0],setSidebarIsOpen=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),categories=_useState6[0],setCategories=_useState6[1];useEffect(function(){var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/products/categories\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setCategories(data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error(getError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();fetchCategories();},[]);var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOpen=_useState8[0],setIsOpen=_useState8[1];return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"livraison\",children:\"LIVRAISON GRATUITE A PARTIR DE 1000DH\"})}),/*#__PURE__*/_jsxs(\"div\",{className:sidebarIsOpen?fullBox?'site-container active-cont d-flex flex-column full-box':'site-container active-cont d-flex flex-column':fullBox?'site-container d-flex flex-column full-box':'site-container d-flex flex-column',children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"bottom-center\",limit:1}),/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(Navbar,{bg:\"white\",variant:\"light\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Button,{variant:\"blue\",onClick:function onClick(){return setSidebarIsOpen(!sidebarIsOpen);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsx(Navbar.Brand,{className:\"titre\",children:/*#__PURE__*/_jsx(\"img\",{className:\"logo\",src:process.env.PUBLIC_URL+'/logo1.png'})})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\",className:\"justify-content-center\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",className:\"justify-content-center\",children:[/*#__PURE__*/_jsx(SearchBox,{className:\"searchB\"}),/*#__PURE__*/_jsxs(Nav,{className:\"me-auto  w-100  justify-content-end\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'/panier.png',height:\"25px\",width:\"25px\"}),cart.cartItems.length>0&&/*#__PURE__*/_jsx(Badge,{pill:true,bg:\"danger\",children:cart.cartItems.reduce(function(a,c){return a+c.quantity;},0)})]}),userInfo?/*#__PURE__*/_jsxs(NavDropdown,{title:userInfo.name,id:\"basic-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/profile\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Profil d'utilisateur\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/orderhistory\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Historique des commandes\"})}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(Link,{className:\"dropdown-item\",to:\"#signout\",onClick:signoutHandler,children:\"Deconnexion\"})]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'/user.png',height:\"25px\",width:\"25px\"})}),userInfo&&userInfo.isAdmin&&/*#__PURE__*/_jsxs(NavDropdown,{title:\"Admin\",id:\"admin-nav-dropdown\",children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/dashboard\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Tableau de bord\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/products\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Produits\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/orders\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Commandes\"})}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/users\",children:/*#__PURE__*/_jsx(NavDropdown.Item,{children:\"Utilisateurs\"})})]})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:sidebarIsOpen?'active-nav side-navbar d-flex justify-content-between flex-wrap flex-column':'side-navbar d-flex justify-content-between flex-wrap flex-column',children:/*#__PURE__*/_jsxs(Nav,{className:\"flex-column w-100 p-2 catego\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Categories\"})}),categories.map(function(category){return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/search?category=\".concat(category),onClick:function onClick(){return setSidebarIsOpen(false);},children:/*#__PURE__*/_jsx(Nav.Link,{className:\"cate\",children:category})})},category);})]})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Container,{className:\"mt-3\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/mailclient\",element:/*#__PURE__*/_jsx(HomeScreen2,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:slug\",element:/*#__PURE__*/_jsx(ProductScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/search\",element:/*#__PURE__*/_jsx(SearchScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signin\",element:/*#__PURE__*/_jsx(SigninScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgotpassword\",element:/*#__PURE__*/_jsx(ForgotPasswordScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/resetpassword/:token\",element:/*#__PURE__*/_jsx(ResetPasswordScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(SignupScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfileScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/map\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(MapScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/placeorder\",element:/*#__PURE__*/_jsx(PlaceOrderScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/order/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrderScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/orderhistory\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(OrderHistoryScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/shipping\",element:/*#__PURE__*/_jsx(ShippingAddressScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(PaymentMethodScreen,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(DashboardScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/orders\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(OrderListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/products\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(ProductListScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/product/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(ProductEditScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/user/:id\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(UserEditScreen,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeScreen,{})})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(KommunicateChat,{})}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(Footer,{})})]})]});}export default App;","map":{"version":3,"sources":["C:/Users/user/Desktop/m/frontend/src/App.js"],"names":["BrowserRouter","Link","Route","Routes","toast","KommunicateChat","HomeScreen","HomeScreen2","ProductScreen","ToastContainer","Navbar","Badge","Nav","NavDropdown","Container","LinkContainer","useContext","useEffect","useState","Store","CartScreen","SigninScreen","ShippingAddressScreen","SignupScreen","ForgotPasswordScreen","ResetPasswordScreen","PaymentMethodScreen","PlaceOrderScreen","OrderScreen","OrderHistoryScreen","ProfileScreen","Button","getError","axios","SearchBox","SearchScreen","ProtectedRoute","DashboardScreen","AdminRoute","ProductListScreen","ProductEditScreen","OrderListScreen","UserListScreen","UserEditScreen","MapScreen","Footer","library","fas","fab","add","App","state","ctxDispatch","dispatch","fullBox","cart","userInfo","showA","setShowA","toggleShowA","signoutHandler","type","localStorage","removeItem","window","location","href","sidebarIsOpen","setSidebarIsOpen","categories","setCategories","fetchCategories","get","data","error","isOpen","setIsOpen","process","env","PUBLIC_URL","cartItems","length","reduce","a","c","quantity","name","isAdmin","map","category"],"mappings":"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","sourcesContent":["import { BrowserRouter, Link, Route, Routes } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport KommunicateChat from './chat';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport HomeScreen2 from './screens/HomeScreen';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport ToastContainer from 'react-bootstrap/ToastContainer';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport NavDropdown from 'react-bootstrap/NavDropdown';\r\nimport Container from 'react-bootstrap/Container';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { Store } from './Store';\r\nimport CartScreen from './screens/CartScreen';\r\nimport SigninScreen from './screens/SigninScreen';\r\nimport ShippingAddressScreen from './screens/ShippingAddressScreen';\r\nimport SignupScreen from './screens/SignupScreen';\r\nimport ForgotPasswordScreen from './screens/ForgotPasswordScreen';\r\nimport ResetPasswordScreen from './screens/ResetPasswordScreen';\r\nimport PaymentMethodScreen from './screens/PaymentMethodScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport OrderHistoryScreen from './screens/OrderHistoryScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { getError } from './utils';\r\nimport axios from 'axios';\r\nimport SearchBox from './components/SearchBox';\r\nimport SearchScreen from './screens/SearchScreen';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\nimport DashboardScreen from './screens/DashboardScreen';\r\nimport AdminRoute from './components/AdminRoute';\r\nimport ProductListScreen from './screens/ProductListScreen';\r\nimport ProductEditScreen from './screens/ProductEditScreen';\r\nimport OrderListScreen from './screens/OrderListScreen';\r\nimport UserListScreen from './screens/UserListScreen';\r\nimport UserEditScreen from './screens/UserEditScreen';\r\nimport MapScreen from './screens/MapScreen';\r\nimport Footer from './components/Footer';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nlibrary.add(fab, fas);\r\n\r\nfunction App() {\r\n  const { state, dispatch: ctxDispatch } = useContext(Store);\r\n  const { fullBox, cart, userInfo } = state;\r\n\r\n  const [showA, setShowA] = useState(true);\r\n  const toggleShowA = () => setShowA(!showA);\r\n\r\n  const signoutHandler = () => {\r\n    ctxDispatch({ type: 'USER_SIGNOUT' });\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('shippingAddress');\r\n    localStorage.removeItem('paymentMethod');\r\n    window.location.href = '/signin';\r\n  };\r\n  const [sidebarIsOpen, setSidebarIsOpen] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    \r\n    <BrowserRouter>\r\n    <div><p className='livraison'>LIVRAISON GRATUITE A PARTIR DE 1000DH</p></div>  \r\n\r\n  \r\n    \r\n      <div\r\n        className={\r\n          sidebarIsOpen\r\n            ? fullBox\r\n              ? 'site-container active-cont d-flex flex-column full-box'\r\n              : 'site-container active-cont d-flex flex-column'\r\n            : fullBox\r\n            ? 'site-container d-flex flex-column full-box'\r\n            : 'site-container d-flex flex-column'\r\n        }\r\n      >          \r\n        <ToastContainer position=\"bottom-center\" limit={1} />\r\n        <header>\r\n          \r\n          <Navbar bg=\"white\" variant=\"light\" expand=\"lg\">\r\n            <Container>\r\n              \r\n              <Button\r\n                variant=\"blue\"\r\n                onClick={() => setSidebarIsOpen(!sidebarIsOpen)}\r\n              >\r\n                <i className=\"fas fa-bars\"></i>\r\n              </Button>\r\n             \r\n              <LinkContainer to=\"/\">\r\n                <Navbar.Brand className=\"titre\" ><img className='logo' src={process.env.PUBLIC_URL + '/logo1.png'}/></Navbar.Brand>\r\n              </LinkContainer>\r\n             \r\n              \r\n              <Navbar.Toggle aria-controls=\"basic-navbar-nav\" className=\"justify-content-center\" />\r\n              <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-center\">\r\n                <SearchBox  className=\"searchB\"/>\r\n                <Nav className=\"me-auto  w-100  justify-content-end\">\r\n                  <Link to=\"/cart\" className=\"nav-link\">\r\n                    <img src={process.env.PUBLIC_URL + '/panier.png'} height=\"25px\" width=\"25px\" />\r\n                   \r\n                    {cart.cartItems.length > 0 && (\r\n                      <Badge pill bg=\"danger\">\r\n                        {cart.cartItems.reduce((a, c) => a + c.quantity, 0)}\r\n                      </Badge>\r\n                    )}\r\n                  </Link>\r\n                  {userInfo ? (\r\n                    <NavDropdown title={userInfo.name} id=\"basic-nav-dropdown\">\r\n                      <LinkContainer to=\"/profile\">\r\n                        <NavDropdown.Item>Profil d'utilisateur</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/orderhistory\">\r\n                        <NavDropdown.Item>Historique des commandes</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <NavDropdown.Divider />\r\n                      <Link\r\n                        className=\"dropdown-item\"\r\n                        to=\"#signout\"\r\n                        onClick={signoutHandler}\r\n                      >\r\n                        Deconnexion\r\n                      </Link>\r\n                    </NavDropdown>\r\n                  ) : (\r\n                    <Link className=\"nav-link\" to=\"/signin\">\r\n                      <img src={process.env.PUBLIC_URL + '/user.png'} height=\"25px\" width=\"25px\" />\r\n                    </Link>\r\n                  )}\r\n                  {userInfo && userInfo.isAdmin && (\r\n                    <NavDropdown title=\"Admin\" id=\"admin-nav-dropdown\">\r\n                      <LinkContainer to=\"/admin/dashboard\">\r\n                        <NavDropdown.Item>Tableau de bord</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/products\">\r\n                        <NavDropdown.Item>Produits</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/orders\">\r\n                        <NavDropdown.Item>Commandes</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/users\">\r\n                        <NavDropdown.Item>Utilisateurs</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                    </NavDropdown>\r\n                  )}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </Container>\r\n          </Navbar>\r\n        </header>\r\n        \r\n\r\n        <div\r\n          className={\r\n            sidebarIsOpen\r\n              ? 'active-nav side-navbar d-flex justify-content-between flex-wrap flex-column'\r\n              : 'side-navbar d-flex justify-content-between flex-wrap flex-column'\r\n          }\r\n        >\r\n          <Nav className=\"flex-column w-100 p-2 catego\">\r\n            <Nav.Item>\r\n              <strong>Categories</strong>\r\n            </Nav.Item>\r\n            {categories.map((category) => (\r\n              <Nav.Item key={category}>\r\n                <LinkContainer\r\n                  to={`/search?category=${category}`}\r\n                  onClick={() => setSidebarIsOpen(false)}\r\n                >\r\n                  <Nav.Link className=\"cate\">{category}</Nav.Link>\r\n                  \r\n                </LinkContainer>\r\n              </Nav.Item>\r\n            ))}\r\n          </Nav>\r\n        </div>\r\n        <main>\r\n          <Container className=\"mt-3\">\r\n            <Routes>\r\n              <Route path=\"/mailclient\" element={<HomeScreen2 />} />\r\n              <Route path=\"/product/:slug\" element={<ProductScreen />} />\r\n              <Route path=\"/cart\" element={<CartScreen />} />\r\n              <Route path=\"/search\" element={<SearchScreen />} />\r\n              <Route path=\"/signin\" element={<SigninScreen />} />\r\n              <Route path=\"/forgotpassword\" element={<ForgotPasswordScreen />} />\r\n              <Route path=\"/resetpassword/:token\" element={<ResetPasswordScreen />} />\r\n              <Route path=\"/signup\" element={<SignupScreen />} />\r\n              <Route\r\n                path=\"/profile\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <ProfileScreen />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route\r\n                path=\"/map\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <MapScreen />\r\n                  </ProtectedRoute>\r\n                }\r\n              />\r\n              <Route path=\"/placeorder\" element={<PlaceOrderScreen />} />\r\n              <Route\r\n                path=\"/order/:id\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <OrderScreen />\r\n                  </ProtectedRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/orderhistory\"\r\n                element={\r\n                  <ProtectedRoute>\r\n                    <OrderHistoryScreen />\r\n                  </ProtectedRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/shipping\"\r\n                element={<ShippingAddressScreen />}\r\n              ></Route>\r\n              <Route path=\"/payment\" element={<PaymentMethodScreen />}></Route>\r\n              {/* Admin Routes */}\r\n              <Route\r\n                path=\"/admin/dashboard\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <DashboardScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/orders\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <OrderListScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/users\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserListScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/products\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <ProductListScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/product/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <ProductEditScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route\r\n                path=\"/admin/user/:id\"\r\n                element={\r\n                  <AdminRoute>\r\n                    <UserEditScreen />\r\n                  </AdminRoute>\r\n                }\r\n              ></Route>\r\n              <Route path=\"/\" element={<HomeScreen />} />\r\n            </Routes>\r\n          </Container>\r\n        </main>\r\n        <div>\r\n     <KommunicateChat/>\r\n   </div>\r\n        <footer>\r\n         <Footer />\r\n         \r\n        </footer>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n  "]},"metadata":{},"sourceType":"module"}